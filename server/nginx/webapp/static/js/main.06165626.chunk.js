(this.webpackJsonpcapstone=this.webpackJsonpcapstone||[]).push([[0],{35:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(26),r=c.n(i),s=(c(35),c(9)),j=c(71),l=c(74),h=c(72),o=c(30),b=c(73),d=c(75),x=(c(36),c.p,c(6)),p=c.n(x),O=c(7),u=c(28),g=c.n(u),y=c(29),w=c.n(y),f=(c(66),c.p,c.p,c.p,c.p+"static/media/in4.08593d7e.wav"),v=(c.p,c.p,c.p,c.p,c.p+"static/media/out4.2620b165.wav"),k=(c.p,c(0));var m=function(){var e=n.a.useState(!1),t=Object(s.a)(e,2),c=t[0],i=t[1],r=n.a.useState(!1),x=Object(s.a)(r,2),u=x[0],y=x[1],m=n.a.useState(null),C=Object(s.a)(m,2),S=C[0],R=C[1],B=n.a.useRef(null),F=n.a.useRef(null),E=n.a.useState(!1),P=Object(s.a)(E,2),A=P[0],D=P[1],I=n.a.useRef(null),M=n.a.useState(!1),T=Object(s.a)(M,2),_=T[0],H=T[1],J=g()({recordScreen:!1,blobOptions:{type:"audio/webm"},mediaStreamConstraints:{audio:!0}}),L=(J.error,J.status,J.mediaBlob),N=J.stopRecording,U=(J.getMediaStream,J.startRecording);Object(a.useEffect)((function(){L&&q()}),[L]);var q=function(){var e=new FormData;e.append("file",L),w.a.post("/api/predict",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){R(e.data)})).catch((function(e){console.error("failed to receive response:",e)}))},z=function(){B.current.pause(),y(!1)},G=function(e){F.current=new Audio(e),F.current.onended=function(e){K()},F.current.play(),D(!0)},K=function(){F.current.pause(),D(!1)},Q=function(e){I.current=new Audio(e),I.current.onended=function(e){V()},I.current.play(),H(!0)},V=function(){I.current.pause(),H(!1)},W=S||{},X=W.output_path,Y=W.st_out,Z=W.translate_out;return Object(k.jsxs)(j.a,{children:[Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsxs)(l.a,{children:[Object(k.jsx)("br",{}),Object(k.jsxs)(h.a,{children:[Object(k.jsx)(o.a,{children:Object(k.jsxs)(l.a,{className:"shadow-sm p-3 mb-5 bg-white rounded",children:[Object(k.jsx)(l.a.Header,{children:"Persian"}),Object(k.jsx)(l.a.Body,{children:Object(k.jsxs)(b.a,{children:[Object(k.jsx)(b.a.Control,{as:"textarea",readOnly:!0,style:{height:"100px"},value:Y}),Object(k.jsx)("br",{}),Object(k.jsx)(d.a,{id:"toggle-recording",type:"checkbox",variant:"danger",checked:c,value:"1",style:{width:"32px",height:"32px",padding:"2px"},onChange:function(e){c?N(e):U(e),i(!c)},children:c?Object(k.jsx)(p.a,{path:O.c,color:"white"}):Object(k.jsx)(p.a,{path:O.a,color:"white"})})]})})]})}),Object(k.jsx)(o.a,{children:Object(k.jsxs)(l.a,{className:"shadow-sm p-3 mb-5 bg-white rounded",children:[Object(k.jsx)(l.a.Header,{children:"English"}),Object(k.jsx)(l.a.Body,{children:Object(k.jsxs)(b.a,{children:[Object(k.jsx)(b.a.Control,{as:"textarea",readOnly:!0,style:{height:"100px"},value:Z}),Object(k.jsx)("br",{}),Object(k.jsx)(d.a,{id:"toggle-playing",type:"checkbox",variant:"primary",checked:u,value:"1",style:{width:"32px",height:"32px",padding:"2px"},onChange:function(e){var t;u?z():(t="/api/"+X,B.current=new Audio(t),B.current.onended=function(e){z()},B.current.play(),y(!0))},children:u?Object(k.jsx)(p.a,{path:O.c,color:"white"}):Object(k.jsx)(p.a,{path:O.b,color:"white"})})]})})]})})]})]}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsxs)(l.a,{children:[Object(k.jsxs)(h.a,{children:[Object(k.jsx)(o.a,{children:Object(k.jsx)("label",{children:" Input(Persian) "})}),Object(k.jsx)(o.a,{children:Object(k.jsx)("label",{children:" Reference translation(English) "})})]}),Object(k.jsx)("br",{}),Object(k.jsxs)(h.a,{children:[Object(k.jsxs)(o.a,{children:[Object(k.jsx)("label",{children:"\u0628\u06cc\u0627\u06cc\u06cc\u062f \u062f\u0648\u0628\u0627\u0631\u0647 \u0622\u0646 \u0631\u0627 \u0627\u0645\u062a\u062d\u0627\u0646 \u06a9\u0646\u06cc\u0645"}),Object(k.jsx)("br",{}),Object(k.jsx)(d.a,{id:"toggle-playing2",type:"checkbox",variant:"light",checked:A,value:"1",style:{width:"32px",height:"32px",padding:"2px",color:"black"},onChange:function(e){A?K():G(f)},children:A?Object(k.jsx)(p.a,{path:O.c,color:"white"}):Object(k.jsx)(p.a,{path:O.b,color:"white"})})]}),Object(k.jsxs)(o.a,{children:[Object(k.jsx)("label",{children:"let's try it again"}),Object(k.jsx)("br",{}),Object(k.jsx)(d.a,{id:"toggle-playing3",type:"checkbox",variant:"light",checked:_,value:"1",style:{width:"32px",height:"32px",padding:"2px",color:"black"},onChange:function(e){_?V():Q(v)},children:_?Object(k.jsx)(p.a,{path:O.c,color:"white"}):Object(k.jsx)(p.a,{path:O.b,color:"white"})})]})]}),Object(k.jsxs)(h.a,{children:[Object(k.jsxs)(o.a,{children:[Object(k.jsx)("label",{children:"\u0628\u06cc\u0627\u06cc\u06cc\u062f \u062f\u0648\u0628\u0627\u0631\u0647 \u0622\u0646 \u0631\u0627 \u0627\u0645\u062a\u062d\u0627\u0646 \u06a9\u0646\u06cc\u0645"}),Object(k.jsx)("br",{}),Object(k.jsx)(d.a,{id:"toggle-playing2",type:"checkbox",variant:"light",checked:A,value:"1",style:{width:"32px",height:"32px",padding:"2px",color:"black"},onChange:function(e){A?K():G(f)},children:A?Object(k.jsx)(p.a,{path:O.c,color:"white"}):Object(k.jsx)(p.a,{path:O.b,color:"white"})})]}),Object(k.jsxs)(o.a,{children:[Object(k.jsx)("label",{children:"let's try it again"}),Object(k.jsx)("br",{}),Object(k.jsx)(d.a,{id:"toggle-playing3",type:"checkbox",variant:"light",checked:_,value:"1",style:{width:"32px",height:"32px",padding:"2px",color:"black"},onChange:function(e){_?V():Q(v)},children:_?Object(k.jsx)(p.a,{path:O.c,color:"white"}):Object(k.jsx)(p.a,{path:O.b,color:"white"})})]})]}),Object(k.jsxs)(h.a,{children:[Object(k.jsxs)(o.a,{children:[Object(k.jsx)("label",{children:"\u0628\u06cc\u0627\u06cc\u06cc\u062f \u062f\u0648\u0628\u0627\u0631\u0647 \u0622\u0646 \u0631\u0627 \u0627\u0645\u062a\u062d\u0627\u0646 \u06a9\u0646\u06cc\u0645"}),Object(k.jsx)("br",{}),Object(k.jsx)(d.a,{id:"toggle-playing2",type:"checkbox",variant:"light",checked:A,value:"1",style:{width:"32px",height:"32px",padding:"2px",color:"black"},onChange:function(e){A?K():G(f)},children:A?Object(k.jsx)(p.a,{path:O.c,color:"white"}):Object(k.jsx)(p.a,{path:O.b,color:"white"})})]}),Object(k.jsxs)(o.a,{children:[Object(k.jsx)("label",{children:"let's try it again"}),Object(k.jsx)("br",{}),Object(k.jsx)(d.a,{id:"toggle-playing3",type:"checkbox",variant:"light",checked:_,value:"1",style:{width:"32px",height:"32px",padding:"2px",color:"black"},onChange:function(e){_?V():Q(v)},children:_?Object(k.jsx)(p.a,{path:O.c,color:"white"}):Object(k.jsx)(p.a,{path:O.b,color:"white"})})]})]}),Object(k.jsx)("br",{})]})]})},C=function(e){e&&e instanceof Function&&c.e(4).then(c.bind(null,77)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),i(e),r(e)}))};navigator.mediaDevices.getUserMedia({video:!1,audio:!0}),r.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(m,{})}),document.getElementById("root")),C()}},[[68,1,2]]]);
//# sourceMappingURL=main.06165626.chunk.js.map